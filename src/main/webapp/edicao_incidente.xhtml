<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
	<title>Edit_Incident</title>

</h:head>

<h:body style="background-color: #d2cffb; padding: 0 50px;">

	<div
		style="display: flex; justify-content: end; align-items: center; margin-bottom: 15px;">

		<p:link outcome="listagem_incidente" value="voltar"
			style="margin-right: 15px;" />

		<p:linkButton action="Sair" outcome="index" icon="pi pi-sign-out"
			title="Sair"
			style="border: 5px solid; 
					border-radius: 50%; 
					background-color: #7f8c8d;
					width: 3rem;" />
	</div>

	<p:panel header="Pesquisar Incidentes">
		<h:form id="form_find">

			<p:messages id="messages" showDetail="true" closable="true">
				<p:autoUpdate />
			</p:messages>


			<div>
				<p:commandButton icon="pi pi-search"
					oncomplete="PF('editar').show()" title="Visualizar"
					update="form_view"
					style="border: 5px solid; 
							border-radius: 50%;
							background-color: #f39c12;
							margin: 5px 50px;
							width: 3rem;
							height: 3rem;">
					<f:setPropertyActionListener value="#{u}"
						target="#{usuarioBean.usuario}" />
				</p:commandButton>
			</div>
		</h:form>
	</p:panel>


	<p:panel id="panel_edit" header="Edição de Incidentes" widgetVar="edit"
		style="margin-top: 15px;">
		
		<h:form id="form_edit">

			<p:panel header="VÍTIMA" style="width: 100%; color: #3d4bbe; padding: 10px 50px;">
				<h:panelGrid columns="3"
					style="width: 100%; padding: 10px 10px 10px 20px;">

					<div style="margin-bottom: 50px;" >
						<p:outputLabel value="Nome:"/>
						<p:inputText value="#{incidenteBean.vitima.nomeVitima}"
							style="width:95%;" required="true"
							requiredMessage="Campo Obrigatorio" />
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Sexo:" />
						<p:selectOneRadio id="sexoVitima"
							value="#{incidenteBean.vitima.sexoVitima}"
							layout="responsive" columns="5" styleClass="grid-radio"
							style="margin-right: 200px;">
							<f:selectItem itemLabel="Masculino" itemValue="Masculino" />
							<f:selectItem itemLabel="Feminino" itemValue="Feminino" />						
						</p:selectOneRadio>
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Idade:" />
						<p:inputText type="number"
							value="#{incidenteBean.vitima.idadeVitima}"
							style="width:95%; margin: 20px 0;" />
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Esolaridade:" />
						<p:selectOneMenu id="escolarVitima"
							value="#{incidenteBean.vitima.escolarVitima}"
							style="width:95%; margin: 20px 0;">
							<f:selectItem itemLabel=" " itemValue=" " />
							<f:selectItem itemLabel="Fundamental" itemValue="Fundamental" />
							<f:selectItem itemLabel="Médio" itemValue="Medio" />
							<f:selectItem itemLabel="Universitário" itemValue="Universitario" />
						</p:selectOneMenu>
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Série:" />
						<p:selectOneMenu id="serieVitima"
							value="#{incidenteBean.vitima.serieVitima}"
							style="width:95%; margin: 20px 0;">
							<f:selectItem itemLabel=" " itemValue=" " />
							<f:selectItem itemLabel="1ª" itemValue="1" />
							<f:selectItem itemLabel="2ª" itemValue="2" />
							<f:selectItem itemLabel="3ª" itemValue="3" />
							<f:selectItem itemLabel="4ª" itemValue="4" />
							<f:selectItem itemLabel="5ª" itemValue="5" />
							<f:selectItem itemLabel="6ª" itemValue="6" />
							<f:selectItem itemLabel="7ª" itemValue="3" />
							<f:selectItem itemLabel="8ª" itemValue="8" />
							<f:selectItem itemLabel="9ª" itemValue="9" />
						</p:selectOneMenu>
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Turno:" />
						<p:selectOneMenu id="turnoVitima"
							value="#{incidenteBean.vitima.turnoVitima}"
							style="width:95%; margin: 20px 0;">
							<f:selectItem itemLabel=" " itemValue=" " />
							<f:selectItem itemLabel="Manhã" itemValue="Manha" />
							<f:selectItem itemLabel="Tarde" itemValue="Tarde" />
							<f:selectItem itemLabel="Noite" itemValue="Noite" />
						</p:selectOneMenu>
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Endereço:" />
						<p:inputText value="#{incidenteBean.vitima.enderecoVitima}"
							style="width:95%; margin: 20px 0 30px 0;" />
					</div>
				</h:panelGrid>
			</p:panel>

			<p:panel header="SUPOSTO AGRESSOR" style="width: 100%; color: #3d4bbe; padding: 10px 50px;">
				<h:panelGrid columns="3"
					style="width: 100%; padding: 10px 10px 0 20px;">

					<div>
						<p:outputLabel value="Nome: " />
						<p:inputText value="#{incidenteBean.agressor.nomeAgressor}"
							style="width:95%; margin-bottom: 10px;" required="true"
							requiredMessage="Campo Obrigatorio" />
					</div>

					<div>
						<p:outputLabel value="Sexo: " />
						<p:selectOneRadio id="sexoAgressor"
							value="#{incidenteBean.agressor.sexoAgressor}"
							style="margin-bottom: 10px;">
							<f:selectItem itemLabel="Masculino" itemValue="Masculino" />
							<f:selectItem itemLabel="Feminino" itemValue="Feminino" />
						</p:selectOneRadio>
					</div>

					<div>
						<p:outputLabel value="Idade: " />
						<p:inputText type="number"
							value="#{incidenteBean.agressor.idadeAgressor}"
							style="width:95%; margin: 5px 0;" />
					</div>

					<div>
						<p:outputLabel value="Parentesco: " />
						<p:inputText value="#{incidenteBean.agressor.parenteAgressor}"
							style="width:95%; margin: 5px 0;" />
					</div>

					<div>
						<p:outputLabel value="Ocupação(Profissão): " style="width:100%" />
						<p:inputText value="#{incidenteBean.agressor.ocupacaoAgressor}"
							style="width:95%; margin: 5px 0;" />
					</div>

					<div>
						<p:outputLabel value="Raça/Cor: " />
						<p:selectOneRadio id="racaAgressor"
							value="#{incidenteBean.agressor.racaAgressor}"
							layout="responsive" columns="5" styleClass="grid-radio"
							style="margin-bottom: 10px;">
							<f:selectItem itemLabel="Branca" itemValue="Branca" />
							<f:selectItem itemLabel="Preta" itemValue="Preta" />
							<f:selectItem itemLabel="Parda" itemValue="Parda" />
							<f:selectItem itemLabel="Indígena" itemValue="Indígena" />
							<f:selectItem itemLabel="Amarela" itemValue="Amarela" />
						</p:selectOneRadio>
					</div>

					<div>
						<p:outputLabel value="Identidade de gênero: " />
						<p:selectOneRadio id="generoAgressor"
							value="#{incidenteBean.agressor.generoAgressor}"
							layout="responsive" columns="5" styleClass="grid-radio"
							style="margin-bottom: 10px;">
							<f:selectItem itemLabel="Masculino Cissexual"
								itemValue="Masculino_Cis" />
							<f:selectItem itemLabel="Feminino Cissexual"
								itemValue="Feminino_Cis" />
							<f:selectItem itemLabel="Masculino Transexual"
								itemValue="Masculino_Trans" />
							<f:selectItem itemLabel="Feminino Transexual"
								itemValue="Feminino_Trans" />
						</p:selectOneRadio>
					</div>

					<div>
						<p:outputLabel value="Orientação sexual: " />
						<p:selectOneRadio id="sexualAgressor"
							value="#{incidenteBean.agressor.sexualAgressor}"
							layout="responsive" columns="8" styleClass="grid-radio"
							style="margin-bottom: 10px;">
							<f:selectItem itemLabel="Heterossexual" itemValue="Heterossexual" />
							<f:selectItem itemLabel="Homossexual" itemValue="Homossexual" />
							<f:selectItem itemLabel="Bissexual" itemValue="Bissexual" />
							<f:selectItem itemLabel="Panssexual" itemValue="Panssexual" />
							<f:selectItem itemLabel="Não binário" itemValue="Nao_binario" />
							<f:selectItem itemLabel="Outro" itemValue="Outro" />
						</p:selectOneRadio>
					</div>

					<div>
						<p:outputLabel value="Escolaridade: " />
						<p:selectOneMenu id="escolarAgressor"
							value="#{incidenteBean.agressor.escolarAgressor}"
							style="width:95%; ">
							<f:selectItem itemLabel=" " itemValue=" " />
							<f:selectItem itemLabel="Fundamental" itemValue="Fundamental" />
							<f:selectItem itemLabel="Médio" itemValue="Medio" />
							<f:selectItem itemLabel="Universitário" itemValue="Universitario" />
						</p:selectOneMenu>
					</div>

					<div style="margin-bottom: 50px">
						<p:outputLabel value="Série: " />
						<p:selectOneMenu id="serieAgressor"
							value="#{incidenteBean.agressor.serieAgressor}" style="width:95%">
							<f:selectItem itemLabel=" " itemValue=" " />
							<f:selectItem itemLabel="1ª" itemValue="1" />
							<f:selectItem itemLabel="2ª" itemValue="2" />
							<f:selectItem itemLabel="3ª" itemValue="3" />
							<f:selectItem itemLabel="4ª" itemValue="4" />
							<f:selectItem itemLabel="5ª" itemValue="5" />
							<f:selectItem itemLabel="6ª" itemValue="6" />
							<f:selectItem itemLabel="7ª" itemValue="3" />
							<f:selectItem itemLabel="8ª" itemValue="8" />
							<f:selectItem itemLabel="9ª" itemValue="9" />
						</p:selectOneMenu>
					</div>
				</h:panelGrid>
			</p:panel>


			<p:panel header="INCIDENTE" style="padding: 10px 50px;">

				<div style="padding: 10px 40px;">
					<span style="font-size: 1rem; color: #000;"> Relate o que a
						criança/adolescente contou para você. Tente ser o mais claro
						possivel, mas não insista com a vitima para que ela diga além do
						que ela consegue, pois isso pode acarretar mais dor para ela. </span>
				</div>

				<h:panelGrid columns="3" style="padding: 20px 0; width: 98%">

					<div>
						<p:outputLabel value="" />
						<p:textEditor widgetVar="editor"
							value="#{incidenteBean.incidente.relatoVitima}" height="150"
							placeholder="Relate o ocorrido..." secure='false'>
							<f:facet name="toolbar">
								<span class="ql-formats">
									<button class="ql-bold"></button>
									<button class="ql-italic"></button>
									<button class="ql-underline"></button>
									<button class="ql-strike"></button>
								</span>
								<span class="ql-formats"> <select class="ql-font"></select>
									<select class="ql-size"></select>
								</span>
							</f:facet>
						</p:textEditor>
					</div>

				</h:panelGrid>
			</p:panel>

			<p:panel header="QUE TIPO DE VIOLAÇÃO DE DIREITO:"
				style="padding: 20px 50px;">
				<h:panelGrid columns="3" style="padding: 10px 50px;">

					<div>
						<p:selectOneRadio id="violacaoVitima"
							value="#{incidenteBean.incidente.violacaoVitima}"
							layout="responsive" columns="9" styleClass="grid-radio"
							style="margin: 10px 0;">
							<f:selectItem itemLabel="Violência física"
								itemValue="violencia_fisica" />
							<f:selectItem itemLabel="Negligência" itemValue="Negligencia" />
							<f:selectItem itemLabel="Violência sexual"
								itemValue="violencia_sexual" />
							<f:selectItem itemLabel="Violência psicológica"
								itemValue="Violencia_psicologica" />
							<f:selectItem itemLabel="Automutilação" itemValue="Automutilacao" />
							<f:selectItem itemLabel="Suicídio" itemValue="Suicidio" />
							<f:selectItem itemLabel="Gravidez menor de 14 anos"
								itemValue="Gravidez_menor_14_anos" />
							<f:selectItem itemLabel="Trabalho infantil"
								itemValue="Trabalho_infantil" />
							<f:selectItem itemLabel="Bullying" itemValue="Bullying" />
						</p:selectOneRadio>
					</div>

				</h:panelGrid>
			</p:panel>

			<p:panel header="PROVIDÊNCIAS" style="padding: 10px 50px;">

				<div style="padding: 10px 40px;">
					<span style="font-size: 1rem; color: #000;"> Que
						providências foram tomadas? </span>
				</div>

				<h:panelGrid columns="3" style="padding: 20px 0; width: 98%">

					<div>
						<p:outputLabel value="" />
						<p:textEditor widgetVar="editor"
							value="#{incidenteBean.incidente.providencias}" height="150"
							placeholder="Relate as providências..." secure='false'>
							<f:facet name="toolbar">
								<span class="ql-formats">
									<button class="ql-bold"></button>
									<button class="ql-italic"></button>
									<button class="ql-underline"></button>
									<button class="ql-strike"></button>
								</span>
								<span class="ql-formats"> <select class="ql-font"></select>
									<select class="ql-size"></select>
								</span>
							</f:facet>
						</p:textEditor>
					</div>

				</h:panelGrid>
			</p:panel>

			<p:commandButton value="Atualizar" action="#{incidenteBean.editar}"
				oncomplete="PF('editar').hide()"
				style="background-color:#8e44ad; margin: 50px;"
				update="form_find" />
		</h:form>
	</p:panel>


	<p:dialog header="" widgetVar="editar" modal="true"
		closeOnEscape="true" position="top" height="auto">
		<h:form id="form_view">

			<p:panel header="Listagem de Usuários">

				<p:dataTable id="dt" value="#{incidenteBean.list}" var="l"
					scrollRows="20" scrollable="true" virtualScroll="true"
					scrollHeight="400" rows="40" update="form_edit"
					style="margin-bottom:0; text-align: center">

					<p:column headerText="Id">
						<p:column>
							<p:outputLabel value="#{l.id}" />
						</p:column>
					</p:column>
					<p:column headerText="Vítima">
						<p:column>
							<h:outputLabel value="#{l.vitima.nomeVitima}" />
						</p:column>
					</p:column>
					<p:column headerText="Suposto Agressor">
						<p:column>
							<p:outputLabel value="#{l.agressor.nomeAgressor}" />
						</p:column>
					</p:column>
					<p:column headerText="Violação de Direito">
						<p:column>
							<p:outputLabel value="#{l.violacaoVitima}" />
						</p:column>
					</p:column>
					<p:column headerText="Data de Cadastro" sortBy="#{l.dataCadastro}">
						<p:column>
							<p:outputLabel value="#{l.dataCadastro}">
								<f:convertDateTime pattern="dd/MM/yyyy - HH:mm:ss"
									timeZone="GMT-03:00" />
							</p:outputLabel>
						</p:column>
					</p:column>

					<p:column headerText="Ações" style="text-align: center">

						<p:column>
							<p:commandButton id="btn-edit" icon="pi pi-pencil"
								oncomplete="PF('editar').hide()" title="Editar"
								update="form_edit"
								style="border: 5px solid; 
										border-radius: 50%; 
										background-color: #8e44ad;
										margin-right: 7px;
										width: 3rem;
										height: 3rem;">
								<f:setPropertyActionListener value="#{l}"
									target="#{incidenteBean.incidente}" />

							</p:commandButton>
						</p:column>
					</p:column>
				</p:dataTable>
			</p:panel>
		</h:form>
	</p:dialog>
</h:body>
</html>